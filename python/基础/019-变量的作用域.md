程序中能够对变量进行存取操作的范围称为变量的作用域。变量按照作用域的不同一般分为局部变量和全局变量。
## 1.局部变量
在一个函数体或语句块内部定义的变量称为局部变量。局部变量的作用域就是定义它的函数体或语句块。

定义一个函数时，可以在函数体内部定义另一个函数，此时两个函数形成嵌套关系，内层函数只能在外层函数中调用，而不能在模块级别被调用

在具有嵌套关系的函数中，在外层函数中定义的局部变量可以直接在内层函数中使用。默认情况下，不属于当前局部作用域的变量具有只读性质，可以直接对其进行读取，但如果对其赋值，则python会在当前作用域中定义个新的同名局部变量。

如果外层函数和内层函数中定义了同名变量，则在内层函数中将优先使用自身所定义的局部变量；在存在同名变量的情况下，如果要在内层函数中使用外层函数中定义的局部变量，则应使用关键字nonlocal对变量进行声明。

```python
def outer():
    x = 3

    def inner():
        nonlocal x  # 声明使用外层变量
        x = 5  # 对外层变量进行赋值
        print("内层函数中，x={}".format(x))

    inner()
    print("外层函数中，x={}".format(x))


if __name__ == "__main__":
    outer()

```
运行结果：
```
内层函数中，x=5
外层函数中，x=5
```
如果不用nonlocal进行声明：
```python
def outer():
    x = 3

    def inner():

        x = 5  # 对x赋值，会创建一个与同名变量
        print("内层函数中，x={}".format(x))

    inner()
    print("外层函数中，x={}".format(x))


if __name__ == "__main__":
    outer()
```
运行结果：
```
内层函数中，x=5
外层函数中，x=3
```
## 2. 全局变量
在python中，一个python程序文件就是一个模块。模块级别上，在所有函数外部定义的变量称为全局变量。它可以在当前模块范围内被引用。

默认情况下，在python程序中引用变量的优先顺序如下：
1. 当前作用域局部变量
2. 外层作用域变量
3. 当前模块中的局部变量
4. python内置变量

如果在某个函数内部定义的局部变量与全局变量同名，则优先使用局部变量。在这种情况下，如果要在函数内部使用全局变量，则应使用global关键字对变量进行声明，否则会创建同名的局部变量。
```python

x = "global"
y = "other global"

def func():
    x = "local"
    global y  # 声明使用全局变量
    y = "local"
    print("函数内部x={},y={}".format(x,y))

func()
print("模块中，x={},y={}".format(x,y))

```
运行结果：
```
函数内部x=local,y=local
模块中，x=global,y=local
```

通过定义全局变量可以在函数之间提供直接传递数据的通道。
- 将一些参数的值存放在全局变量中，可以减少调用函数时传递的数据量
- 将函数的执行结果存放在全局变量中，则可以使函数返回多个值
