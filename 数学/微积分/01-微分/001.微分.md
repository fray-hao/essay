## 微分（differentiation）
---
### 1. 导数是什么（what is a derivative）
我们从不同的视角（point of view）进行解释

- 几何角度解释（geometric interpretation）：
- 物理角度解释（physical interpretation）：
- importance to all measurements（sci[science],eng[engine],econ[economy],polit sci[political science]）

#### 1.1.  geom interp（几何解释）
如何求函数图像某点处的切线（finding the tangent line to some graph of some function at some point）

例如：求y=f(x)在$P(x_0,y_0)$点的切线：
![](//note.youdao.com/src/B54805C940644894A4200E0B8FFF664B)
> 符号解释：\
$\Delta x$ ：x的增量（改变量）。也就是P点到Q点之间的横向长度\
$\Delta f$ ：y的增量（改变量）。也就是P点到Q点之间的纵向长度\
$P(x^0,y^0)$:等价于：$P(x^0,f(x^0))$。Q的的坐标：$P(x^0+\Delta x,f(x^0+\Delta x))$

> 斜率(slope)公式：$\Delta f\over \Delta x$

求切线的思路：首先求斜率：在曲线上找到另一点Q，这样P和Q构成了粉色的直线。当Q无限接近于P时，粉色直线就会与蓝色的切线重合。所以求切线变成了极限问题。导数就是$\Delta x$无限接近于0时，求PQ直线的斜率。求导（求斜率）的公式如下：\
$
\boxed{
\begin{aligned}
&f'(x^0)= \lim\limits_{\Delta x\to0 }\frac{f(x_0+\Delta x)-f(x_0)}{\Delta x}
\end{aligned}}
$

例子1：$f(x) = \frac{1}{x}$。其导数为：\
我们先求斜率：\
$
\boxed{
\begin{aligned}
\frac{\Delta f}{\Delta x} &= \frac{\frac{1}{x_0+\Delta x}-\frac{1}{x_0}}{\Delta x} \\
&=\frac{1}{\Delta x}\cdot(\frac{1}{x_0+\Delta x}-\frac{1}{x_0})\\
&=\frac{1}{\Delta x}\cdot(\frac{x_0-(x_0+\Delta x)}{(x_0+\Delta x)x_0}) \qquad\qquad\# \footnotesize\text{通分}\\
&=\frac{-1}{(x_0)^2+\Delta x\cdot x_0}
\end{aligned}}
$\
之后求导数，也就是$\Delta x \to 0$时斜率的极限值：\
$
\boxed{
\begin{aligned}
f'(x_0)&=\lim\limits_{\Delta x\to 0}\frac{\Delta f}{\Delta x}\\
&=\lim\limits_{\Delta x\to 0}\frac{-1}{(x_0)^2+\Delta x\cdot x_0}\\
&=\frac{-1}{(x_0)^2}
\end{aligned}}
$\
该斜率表明：
- 斜率永远是负的(可以指明切线方向)
- $x_0 \to \infty$时，斜率越接近于0，也就是越来越平滑。

我们知道斜率公式可以表示为：$y-y_0=m(x-x_0)$。通过求导获得了斜率m，当y =  0时，就会求得切线在x轴上的x点的坐标；当x=0 时就可以获得切线y轴上的y点的坐标。

> 微分的意义就在于表示出在某一点时的变化趋势

微积分复杂性的根源在于，微积分问题往往会涉及到其它知识，涉及到很多相关的东西，也许只有一小部分是微积分，独立出来将是很简单的问题，但其它内容却可能涉及到从小学到中学学到的所有数学知识。下面我们来看一个这样的复杂问题。\
例2：求由$y=\frac{1}{x}$切线和坐标值围合而成的三角形区域面积
![img](//note.youdao.com/src/5367E6F69AF04AB8B0AE32D159C88E8B)
标清楚图像就是成功的一半。$x,y$代表变量，$x_0,y_0$则代表固定点。\
为了求出三角形的面积，则需要找到x轴截距（切线与x轴的交点）与y轴截距（切线与y轴的交点）

首先，根据例1求得斜度：
$
\boxed{
\begin{aligned}
&\frac{-1}{(x_0)^2}(x-x_0)
\end{aligned}}
$\
之后，求x轴截距：\
$
\boxed{
\begin{aligned}
&\footnotesize\text{切线与x轴相交时，y的值为0，根据斜度公式}\\
&0 - y_0 = \frac{-1}{(x_0)^2}(x-x_0)\\
& 0- \frac{1}{x} = \frac{-1}{(x_0)^2}(x-x_0)
\qquad\qquad\# \footnotesize\text{代入}\\
&0- \frac{1}{x} =\frac{-x}{x_0^2}+\frac{1}{x_0}
\qquad\qquad\# \footnotesize\text{化简}\\
&\frac{x}{x_0^2} = \frac{2}{x_0}
\qquad\qquad\# \footnotesize\text{方程两边同时乘以}x_0^2\\
&x = 2x_0
\end{aligned}}
$\
然后，求y轴的截距。可以用上面的方式求，也可以采用对称来求。\
方程的镜像对称，即可以对调$(x,y)$和$(y,x)$\
$
\boxed{
\begin{aligned}
&y=\frac{1}{x}\\
&\Leftrightarrow xy=1\\
&\Leftrightarrow x = \frac{1}{y}
\end{aligned}}
$\
所以，可知y轴截距为：$2y_0$\
最后求得面积：\
$
\boxed{
\begin{aligned}
&\frac{1}{2}\cdot(2x_0)(2y_0)\\
&=2x_0y_0\\
&=2x_0\frac{1}{x_0}\\
&=2
\end{aligned}}
$\
很奇妙！不论$x_0,y_0$是什么，面积都是2。这是$\frac{1}{x}$的性质决定的
#### 1.2.导数及其记号
导数即切线的斜率。\
$
\boxed{
\begin{aligned}
&f' = \frac{df}{dx} = \frac{dy}{dx}=\frac{d}{dx}f=\frac{d}{dx}y   
\end{aligned}}
$
#### 1.3 多项式求导

例子：$f(x)=x^n,\quad n=1,2,3,...$\
首先,求斜率：\
$
\boxed{
\begin{aligned}
\frac{\Delta f}{\Delta x}&=\frac{(x+\Delta x)^n-x^n}{\Delta x} 
\quad\quad\quad\#\scriptsize\text{这里的x指的就是固定点}x_0\\
&=\frac{(x^n+nx^{n-1}\Delta x+\mathbf{O}((\Delta x)^2))-x^n}{\Delta x}
\qquad\quad \# \scriptsize\text{二项式定理展开;}\quad\mathbf{O}((\Delta x)^2)\scriptsize\text{是垃圾项。}\mathbf{O}\scriptsize\text{表示这些项中}\Delta x \scriptsize\text{有更高项}\\
&=\frac{1}{\Delta x}(nx^{n-1}\Delta x+\mathbf{O}((\Delta x)^2))\\
&=nx^{n-1}+\mathbf{O}((\Delta x)))\\
& \small\text{当}\Delta x\to 0\text{时} :\qquad nx^{n-1}
\end{aligned}}
$\
最后可知导数：\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}x^n=nx^{n-1}
\end{aligned}}
$

在求多项式（polynomials）的导数时，上面的推论将及其有用。例如求：$x^3+5x^{10}$。\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}(x^3+5x^{10})= 3x^2+5\cdot10x^9=3x^2+50x^9
\end{aligned}}
$
#### 1.4 物理学角度解释
导数就是变化率（rate of change），这个变化率指的是瞬时变化率（instantaneous rate）

例：从80米高楼上扔下物体。\
因为：$
\boxed{
\begin{aligned}
&h=80-5t^2
\end{aligned}}
$\
可知：4秒后，物体落到地上。\
物体的平均速度——平均变化率（average of change）为：\
$
\boxed{
\begin{aligned}
&\frac{\Delta h}{\Delta t}=\frac{80-0}{0-4}= |-20m/s| = 20m/s
\end{aligned}}
$\
那么，落地哪一刻的速度是多少呢？这就是求导数：\
$
\boxed{
\begin{aligned}
&\because \frac{d}{dt}80=0,\frac{d}{dt}t^2=2t\\
&\therefore\frac{d}{dt}h = 0-10t
\end{aligned}}
$
>常量的导数是0。从变化的角度看，常量是没有变化率的；我们也可以将常量看做是1次幂的数，根据:$\frac{d}{dx}x^n=nx^{n-1}$,80可以看做是$80t^0$,也就是$80\times 0\times n^{-1}$,即0。

将具体时间代入导数中。落地时，也就是第4秒的速度为:$|-40m/s|$

---
## 极限
### 1. 简单极限（easy limits）
$
\boxed{
\begin{aligned}
&\lim\limits_{x\to4}\frac{x+3}{x^2+1} = \frac{4+3}{4^2+1}=\frac{7}{17}
\qquad\qquad \#\scriptsize\text{只需要代入4即可}
\end{aligned}}
$
### 2. Derivatives are always harder
大多数情况下：\
$
\boxed{
\begin{aligned}
&\lim\limits_{x\to x_0}\frac{f(x_0+\Delta x)-f(\Delta x)}{x-x_0}
\end{aligned}}
$\
这时，如果代入$x=x_0$，结果是分母为0。所以，不能简单代入，必须先进行一些对消（cancellation）运算。

#### 2.1 左右极限
当函数在$x_0$处是不连续（如分段函数）的时候，我们需要引入左极限与右极限。\
左极限表示如下：\
$
\boxed{
\begin{aligned}
&\lim\limits_{x\to x_0^-}
\end{aligned}}
$\
含义是：x从左侧趋向于$x_0$,也就是$x<x_0$\
右极限表示如下：\
$
\boxed{
\begin{aligned}
&\lim\limits_{x\to x_0^+}
\end{aligned}}
$\
含义是：x从右侧趋向于$x_0$,也就是$x>x_0$

例如，下面的分段函数：\
$
\boxed{
\begin{aligned}
&f(x)=\begin{cases}
x+1,&x>0\\
-x+2,&x<0
\end{cases}
\end{aligned}}
$\
函数图形如下：
![image.png](https://upload-images.jianshu.io/upload_images/13764292-3aa1b72d0048cc2d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
函数右极限：
$
\boxed{
\begin{aligned}
&\lim\limits_{x\to0^+}f(x)=\lim\limits_{x\to0}x+1=1
\end{aligned}}
$\
函数左极限：
$
\boxed{
\begin{aligned}
&\lim\limits_{x\to0^-}f(x)=\lim\limits_{x\to0}(-x+2)=2
\end{aligned}}
$
> 求极限并不需要知道x=0的函数值

#### 2.2 连续函数
在$x_0$点时，函数是连续的，则极限的定义如下：
$
\boxed{
\begin{aligned}
&\lim\limits_{x\to x_0}=f(x_0)
\end{aligned}}
$\
在$x_0$点连续，指的是：
- 极限存在。也就是左极限与右极限相等
-  $f(x_0)$ is defined
- they are equal

不连续的函数有以下类型：
- 跳跃间断（jump discontinuity）： 左右极限不相等。如2.1节的分段函数。
- 可去间断（removeable discontinuity）：左右极限存在且相等，而$x_0$无定义或是定义在函数曲线外的某点。

    例1: $g(x)=\frac{\sin x}{x}$\
    $
\boxed{
\begin{aligned}
&\lim\limits_{x\to0}\frac{\sin x}{x}=1
\end{aligned}}
$\
    例2：$h(x)=\frac{1-\cos x}{x}$\
$
\boxed{
\begin{aligned}
&\lim\limits_{x\to0}\frac{1-\cos x}{x}=0
\end{aligned}}
$
- 无穷间断（infinite discontinuity）：极限值为:$\pm\infty$。例如$f(x)=\frac{1}{x}$\
    $
\boxed{
\begin{aligned}
& \lim\limits_{x\to 0^+}\frac{1}{x}=\infty\\
& \lim\limits_{x\to 0^-}\frac{1}{x}=-\infty
\end{aligned}}
$
- 另类（丑陋）间断（other（ugly）discontinuity）：没有左右极限。例如$y=\sin \frac{1}{x}$,在趋近于0时，来回震荡。 

#### 2.3. 与导数有关的一个定理
**可导必连续**（differentialble implies continouse）定理具体描述如下：\

如果函数f在$x_0$处存在导数（derivative），则f在$x_0$处连续。（If f isdifferentialble at $x_0$, then f is continuous at $x_0$）

证明：\
首先，写成便于书写的格式：\
$
\boxed{
\begin{aligned}
&\lim\limits_{x\to x_0}f(x)-f(x_0)=0
\end{aligned}}
$\
证明过程很简单，只需要同时乘除$x-x_0$:\
$
\boxed{
\begin{aligned}
&\lim\limits_{x\to x_0}\frac{f(x)-f(x_0)}{x-x_0}(x-x_0)\\
&=f'(x_0)(x-x_0)\\
&=f'(x_0)\cdot0\\
&=0
\end{aligned}}
$
---

##  导数的通用法则

通用法则（general）: 
- 加法法则： (u+v)' = u'+v'
- 数乘法则： (Cu)' = Cu', 其中C为常数
- 乘积法则：(uv)' = u'v + uv'\
    $
\boxed{
\begin{aligned}
(uv)'&= \frac{\Delta (uv)}{\Delta x}\\
&=\frac{u(x+\Delta x)v(x+\Delta x)-u(x)v(x)}{\Delta x}\\
&=\frac{(u(x+\Delta x)-u(x))v(x+\Delta x)+u(x)(v(x+\Delta x)-v(x))}{\Delta x}\\
&=\frac{(\Delta u)v(x+\Delta x)+u(x)(\Delta v)}{\Delta x}\\
&= \frac{\Delta u}{\Delta x}v(x+\Delta x)+ u(x)\frac{\Delta v}{\Delta x}\\
\Delta x\to 0 \Rightarrow\ & \frac{du}{dx}v+u\frac{dv}{dx}\\
&=u'v + uv'
\end{aligned}}
$
- 除法法则：$\mathrm{(u/v)' = \frac{u'v-uv'}{v^2}}$\
    $
\boxed{
\begin{aligned}
&\Delta(\frac{u}{v}) = \frac{u+\Delta u}{v+\Delta v } -\frac{u}{v}\\
&=\frac{uv+(\Delta u)v-uv+u\Delta u}{(v+\Delta v)v}\\
&=\frac{(\Delta u)v+u\Delta u}{(v+\Delta v)v}\\
\therefore & \ \frac{\Delta (\frac{u}{v})}{\Delta x} = \frac{\frac{\Delta u}{\Delta x}v-u\frac{\Delta v}{\Delta x}}{(v+\Delta v)v}\\
\Delta x\to 0 \Rightarrow\ & \frac{\frac{du}{dx}v-v\frac{dv}{dx}}{v^2}
\quad\qquad\# \scriptsize\text{因为连续性，}\Delta x\text{趋向0时，}\Delta v\text{也趋向于0}\\
&=\frac{u'v-uv'}{v^2}
\end{aligned}}
$\

---
##  求三角函数
**正弦函数的导数**：\
$
\boxed{
\begin{aligned}
\frac{d}{dx}\sin x &= \frac{\sin(x+\Delta x)-\sin x}{\Delta x}\\
&=\frac{\sin x\cdot\cos \Delta x+\cos x\cdot\sin \Delta x-\sin x}{\Delta x}
\qquad\qquad \#\scriptsize\text{根据两角和公式将sin展开}\\
&=\sin x(\frac{\cos \Delta x-1}{\Delta x})+ \cos x(\frac{\sin\Delta x}{\Delta x})
\qquad\qquad \#\scriptsize\text{用夹逼定理或洛必达公式求极限}\\
\Delta x\to0\text{ 时}  &=\sin x\cdot0+\cos x\cdot1\\
&=\cos x
\end{aligned}}
$
>正弦两角和公式:\
$\sin(a+b) = \sin a\cdot\cos b+\cos a\cdot\sin b$

**余弦函数的导数**：\
$
\boxed{
\begin{aligned}
\frac{d}{dx}\cos x &= \frac{\cos(x+\Delta x)-\cos x}{\Delta x}\\
&= \frac{\cos x\cdot\cos \Delta x-\sin x\cdot\sin \Delta x-\cos x}{\Delta x}
\\
&=\cos x(\frac{\cos \Delta x-1}{\Delta x})-\sin x(\frac{\sin\Delta x}{\Delta x})\
\qquad\qquad \#\scriptsize\text{重组}\\\\
\Delta x\to0\text{ 时}  &=\cos x\cdot0-\sin x\cdot1\\
&=-\sin x
\end{aligned}}
$
>余弦两角和公式:\
$\cos(a+b) = \cos a\cdot\cos b-\sin a\cdot\sin b$

###  用导数法则来解题
$
\boxed{
\begin{aligned}
&\frac{d}{dx}(x^n\sin(x))\\
&= (x^n)'\sin(x) + x^n(\sin(x))'\\
&= nx^{n-1}\sin(x)+x^n\cos(x)
\end{aligned}}
$

$
\boxed{
\begin{aligned}
&\frac{d}{dx}(\frac{1}{x^n}) = \frac{0-1v'}{x^{2n}}=-x^{-2n}v'=-x^{-2n}\cdot nx^{n-1}=-nx^{-n-1}
\end{aligned}}
$

---

## 链式法则

链式法则是一个合成（composition）规则。用于解复合函数。例1：\
$
\boxed{
\begin{aligned}
&y=(\sin t)^{10} = \sin^{10}(t)
\end{aligned}}
$

解题方法：使用换元法（use new variable names）。将解题步骤分为两步：
1. 计算$\sin t$，并将结果写入x，也就是引入了新变量x。$x = \sin (t)$。
2. 将x代入，即：$y = x^{10}$

解题前，我们先看下链式法则：\
$
\boxed{
\begin{aligned}
&\frac{dy}{dt}=\frac{dy}{dx}\cdot\frac{dx}{dt}
\end{aligned}}
$
> 链式法则使求导摆脱束缚

解题时，先对外部函数求导，再对内部函数求导。以例1为例，其外部函数为$y = x^{10}$；内部函数为$x = \sin (t)$。根据链式法则：\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}(x^{10})\cdot\frac{d}{dt}(sin(t))=10x^9\cdot\cos(t)
\end{aligned}}
$
3. 我们还需要将x还原为$\sin (t)$。也就是：\
$
\boxed{
\begin{aligned}
&10(\sin^9(t))\cos(t)
\end{aligned}}
$

例2：
$
\boxed{
\begin{aligned}
&\frac{d}{dt}\sin(10t)
\end{aligned}}
$

$
\begin{aligned}
&inner: x = 10t, outter: y = \sin(x)
\end{aligned}
$\
$
\boxed{
\begin{aligned}
&\frac{d}{dt}\sin(10t) = \frac{d}{dx}\sin(x)\cdot\frac{d}{dt}10t=\cos(x)\cdot10=10cos(10t)
\end{aligned}}
$

----------------------------------(补充)---------------------------------------
### 链式法则本质理解
假设有一个函数，比如$y=10x +b$,显然，y的改变速度是x的10倍，所以有:$\frac{dy}{dx}=10$\
再假设x是t的函数，如$x=5t+a$，又是均匀变化的，于是$\frac{dx}{dt}=5$\
链式法则告诉我们，如果y的改变是x的10倍，并且x的改变量是t的5倍，那么y的改变量是t的50倍。从代数上看，这意味着如果通过代入法使两式合并得到：\
$
\boxed{
\begin{aligned}
&y=10(5t+a)+b = 50t+10a+b
\end{aligned}}
$

$
\begin{aligned}
\frac{dy}{dt}=\frac{dy}{dx}\frac{dx}{dt}=10\cdot5=50
\end{aligned}
$\
链式法则体现了：y与t之间变化量的比率（变化率）等于y与x之间变化量的比率乘上x与t之间变化率。

### 链式法则推导除法
$
\boxed{
\begin{aligned}
&(1/v)'  = (v^{-1})'= \frac{d}{dv}v^-1\frac{dv}{dx}=-v^{-2}\cdot v'
\\&(u/v)'=(uv^{-1})'=u'v^{-1}+u(-v^{-2}v')
\\&\qquad\enspace=\frac{u'v-uv'}{v^2}
\end{aligned}}
$

    

----
## 高阶导数
高阶导数是指对函数不断求导。如,$u=u(x)$。\
一阶导数为：u'\
二阶导数为：u''\
三阶导数为：u'''
> 一阶导数的导数称为二阶导数，二阶以上的导数可由归纳法逐阶定义。

高阶导数也可以用下面的记号表示：\
一阶导数为：$u^{(1)}$\
二阶导数为：$u^{(2)}$\
三阶导数为：$u^{(3)}$

以$u=\sin x$为例：\
一阶导数：$u' =u^{(1)}=\cos x$\
二阶导数：$u'' =u^{(2)}=-\sin x$\
三阶导数：$u''' =u^{(3)}=-\cos x$\
四阶导数：$u'''' =u^{(4)}=\sin x$

常用的二阶求导的表示方法：\
$
\boxed{
\begin{aligned}
&u'' = \frac{d}{dx}\frac{du}{dx} = \frac{d}{dx}\frac{d}{dx}u=(\frac{d}{dx})^2u=\frac{d^2}{(dx)^2}u=\frac{d^2u}{dx^2}=D^2u
\end{aligned}}
$
> 其它类型的高阶导数表示方法与二阶导数表示方法类似

例：$D^nx^n$\
用数学归纳法求：\
$
\boxed{
\begin{aligned}
&Dx^n = nx^{n-1}\\
&D^2x^n = n(n-1)x^{n-2}\\
&D^3x^n=n(n-1)(n-2)x^{n-3}\\
& \vdots\\
&D^{n-1}x^n = n(n-1)(n-2)\cdots2x^1\\
&D^nx^n = n(n-1)(n-2)\cdots2\cdot 1x^0=n!
\end{aligned}}
$

---

## 隐函数微分（implicit）
证明：当$ a=\frac{m}{n},m \& n $是整数时： $\frac{d}{dx}x^a = a x^{a-1}$成立。\
$
\boxed{
\begin{aligned}
&y=x^{\frac{m}{n}}\\
&y^n = x^m\\
&\frac{d}{dx}y^n=\frac{d}{dx}x^m\\
&(\frac{d}{dy}y^n)\frac{dy}{dx}=mx^{m-1}
\qquad\qquad\#\scriptsize\text{左侧为链式法则}\\
&ny^{n-1}\frac{dy}{dx}=mx^{m-1}\\
\\
&\frac{dy}{dx} = \frac{mx^{m-1}}{ny{n-1}}\\
&=\frac{m}{n}\frac{x^{m-1}}{(x^{m/n})^{n-1}}
\qquad\qquad\#\scriptsize\text{代入}\\
&=\frac{m}{n}x^{m-1-(n-1)\frac{m}{n}}\\
&=\frac{m}{n}x^{m-1-m+\frac{m}{n}}\\
&=\frac{m}{n}x^{\frac{m}{n}-1}\\
&=ax^{a-1}
\end{aligned}}
$
### 1. 隐函数
如果方程F(x,y)=0能确定y是x的函数，那么称这种方式表示的函数是隐函数。 如：
$
\boxed{
\begin{aligned}
&x^2+y^2=1
\end{aligned}}
$。其显函数为：
$
\boxed{
\begin{aligned}
&y = \pm\sqrt{1-x^2}
\end{aligned}}
$。

隐函数有两种解法。第一种解法就是将隐函数转换为显函数，再求导。先考虑上半圆：
$
\boxed{
\begin{aligned}
&y =\sqrt{1-x^2}
\end{aligned}}
$。\
其导数:\
$
\boxed{
\begin{aligned}
&y'=(1-x^2)^{1/2}\quad\quad\#\scriptsize\text{根号形式转换为平方形式，这是含有根的求导的第一步}\\
&=\frac{1}{2}(...)^{\frac{1}{2}-1}\cdot(-2x)
\quad\quad\#\scriptsize\text{根据链式法则求导}\\
&=\frac{1}{2}(1-x^2)^{\frac{1}{2}-1}\cdot(-2x)\\
&=\frac{-x}{\sqrt{1-x^2}}
\end{aligned}}
$\



第二种：分别对隐函数两边求导。这是可以快速获得斜率的方法\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}(x^2+y^2)=\frac{d}{dx}1\\
&\Rightarrow 2x+\frac{d}{dy}(y^2)\frac{dy}{dx}=0\\
&\Rightarrow 2x+2yy'=0\\
&\Rightarrow y'=\frac{-2x}{2y}=\frac{-x}{y}
\end{aligned}}
$

这两种解法的结果是一致的：因为 $y=\sqrt{1-x^2}$

-------- 
例：$y^4+xy^2-2=0$\
我们先将其转化为显函数：\
$
\boxed{
\begin{aligned}
&y^2 = \frac{-x\pm\sqrt{x^2-4(-2)}}{2}\qquad\qquad\#\scriptsize\text{可以将四阶方程看做是}(y^2)^2\text{的二次方程。可以用一元二次方程的求根公式解}\\
&y=\pm\sqrt{\frac{-x\pm\sqrt{x^2-4(-2)}}{2}}
\end{aligned}}
$\
用上面的显函数来求导，会非常复杂。我们可以直接用隐函数求导：\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}y^4+\frac{d}{dx}xy^2-\frac{d}{dx}2=\frac{d}{dx}0\\
&\Rightarrow \frac{d}{dy}(y^4)\frac{dy}{dx}+\frac{d}{dx}x\cdot y^2+x\frac{d}{dx}y^2-0=0\\
&\Rightarrow 4y^3y'+1\cdot y^2+x(2yy')-0=0\\
&\Rightarrow y'(4y^3+2xy)=-y^2\\
&\Rightarrow y'=\frac{-y^2}{4y^3+2xy}
\end{aligned}}
$

**用隐函数解方程的意义在于当知道某点的位置后，可以直接代入值求得其导数**。如上面的例子，求P(1,1)的导数。代入公式可以知道其导数值为：$-\frac{1}{6}$\
如果我们不知道函数上的某一点的位置。例如，只知道x位置，不知道y的位置，情况就复杂了。根据显函数，可以知道x可以确定多个y，也就是有多个P(x,y)，求导数也就需要一个个值分别处理。

-----

### 2. 反函数

如果$y=f(x)$，有另一个函数:$g(y)=x$，则称g函数是f函数的反函数，或者f函数是g函数的反函数，记作：\
$f^{-1}=g,g^{-1}=f$

用隐函数微分可以快速的求反函数的导数。例如$y$是$\sin x$的反函数，记作：$y=\sin^{-1}x$。求反函数的导数过程：\
$
\boxed{
\begin{aligned}
& y=\sin^{-1}x\\
&\Rightarrow \sin y = x\\
&\Rightarrow (\cos y)y' = 1\\
&\Rightarrow y' = \frac{1}{\cos y}=\frac{1}{\sqrt{1-\sin^2y}}=\frac{1}{\sqrt{1-x^2}}
\end{aligned}}
$

---
## 对数和指数

指数(exponential)是幂运算aⁿ(a≠0)中的一个参数，a为底数，n为指数，指数位于底数的右上角。

指数有以下的性质：\
$
\boxed{
\begin{aligned}
&a>0,a^0=1;\ a^1=a;\ a^2=a\cdot a\\
&a<0,a^{-1}=\frac{1}{a}\\
&a^{x1+x2}=a^{x1}a^{x2}\\
&(a^{x1})^{x2}=a^{x1x2}\\
&a^{\frac{m}{n}}=\sqrt[n]{a^m}
\end{aligned}}
$

对于任意$x$, $a^x$可以通过插值（filling in）实现。
> $a^x$ is defined for all x by "filling in" by continuity

> 插值法就是一个从已知点近似计算未知点的近似计算方法,即构造一个多项式函数,使其通过所有已知点,然后用求得的函数预测位置

如:$y=2^x$。当我们知道(-1,1\2),(0,1),(1,2)这三个点后，通过插值就可以绘制它的函数形状：
![image.png](https://upload-images.jianshu.io/upload_images/13764292-0dce483433bb7537.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

今天，我们的目标是求：
$
\boxed{
\begin{aligned}
&\frac{d}{dx}a^x
\end{aligned}}
$

也就是求：\
$
\boxed{
\begin{aligned}
&\lim\limits_{\Delta x\to 0}\frac{a^{x+\Delta x}- a^x }{\Delta x}=\frac{a^{x}a^{\Delta x}- a^x }{\Delta x}\qquad\qquad\#\scriptsize\text{化简}\\
&\Rightarrow\lim\limits_{\Delta x\to 0}a^x\frac{a^{\Delta x}-1}{\Delta x}
\end{aligned}}
$\
这里，我们需要理解一个概念：大家习惯将$x$看做是一个变量，但对于极限的情况， 变化的是另一个变量$\Delta x$,此时$x$是固定不变，变化的是$\Delta x$，此时可以将上式中的$a^x$看做一个常量，可以提取到极限操作之外。目前，求导结果为：\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}a^x = a^x\lim\limits_{\Delta x\to0}\frac{a^{\Delta x}-1}{\Delta x}
\end{aligned}}
$\
所以，先看看它包含了什么信息。式子表明，$a^x$的导数是$a^x$乘以某个未知的式子。姑且将这个未知的式子记作“谜之数M(a)”。M(a)记作：\
$
\boxed{
\begin{aligned}
&M(a)=\lim\limits_{\Delta x\to 0}\frac{a^{\Delta x}-1}{\Delta x}
\end{aligned}}
$\
这个谜一样的数字还有几何解释。这时，求导结果为：\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}a^x = a^xM(a)
\end{aligned}}
$\
插入$x=0$时的结果为：\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}a^x|_{x=0}=M(a)a^0=M(a)
\end{aligned}}
$\
M(a)是指函数在$x=0$处的斜率。

那么，M(a)久经是什么呢？我们可以定义一个假设：定义一个独特的数字e，使M(e)=1。把e带进去可以得到一个有用的公式：\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}e^x = e^x
\end{aligned}}
$\
代入$x=0$得到：\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}e^x|_{x=0} =1
\end{aligned}}
$
> 为什么e必定存在？\
$
\boxed{
\begin{aligned}
&f(x)= 2^x,f'(0)=M(2).\\
&stretch\ by\ k.
\\&f(kx) = 2^{kx}=(2^k)^x = b^x
\\&b=2^k\qquad\qquad\#\scriptsize\text{转化为了以}2^k\text{为底（base）的函数}
\end{aligned}}
$\
扩展后的新函数$f(kx)$相当于压缩x轴，随着k的增加，斜率也会越来越陡。下面用数学语言来描述：\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}b^x=\frac{d}{dx}f(kx)=kf'(kx)\qquad\qquad\#\scriptsize kf'(kx)\text{根据链式法则获得}\\
&\frac{d}{dx}b^x|_{x=0} =kf'(0) = kM(2)\\
&b = e\ when\ k=\frac{1}{M(2)}
\end{aligned}}
$

最后，需要引入自然对数。自然对数（natural log）记作：\
$
\boxed{
\begin{aligned}
&w=\ln x\\
& y=e^x \Leftrightarrow \ln y = x \qquad\qquad\#\scriptsize\text{对数是对求幂的逆运算}
\end{aligned}}
$\
自然对数有以下的性质：\
$
\boxed{
\begin{aligned}
&\ln(x_1x_2)=\ln(x_1)+\ln(x_2)\\
&\ln 1=0,\ln e=1
\end{aligned}}
$\
对数与指数互为逆运算，如图所示：
![image.png](https://upload-images.jianshu.io/upload_images/13764292-1050083e853d230a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
求对数函数的导数需要用到隐函数微分法，这是求逆函数导数的一般方法。求对数函数的$\frac{d}{dx}\ln x$的推导过程：\
$
\boxed{
\begin{aligned}
&w=\ln x \Rightarrow e^w = x  \qquad\qquad\#\scriptsize\text{两边同时以e为底}
\\&\frac{d}{dx}e^w = \frac{d}{dx}x=1
\\&(\frac{d}{dw}e^w\frac{dw}{dx})=1
\\&e^w\frac{dw}{dx}=1
\\&\frac{dw}{dx} = \frac{1}{e^w}=\frac{1}{x}
\\&\frac{d}{dx}\ln x = \frac{d}{dx}w = \frac{1}{x}
\end{aligned}}
$

\
求导任意指数函数有两种方法。
第一种：用e作底数，也就是转化到以e为底数。$a^x=(e^{\ln a})^x=e^{x\ln a}$\
$
\boxed{
\begin{aligned}
\frac{d}{dx}a^x&=\frac{d}{dx}e^{x\ln a}
\\&=(\ln a)e^{x\ln a}  \qquad\qquad\#\scriptsize\text{ln a 是个固定的数字，不会变动，是一个常数，它只是改变了变化率的倍数，这就是链式法则所描述的}     
\\&=(\ln a)a^x
\end{aligned}}
$\
我们可以知道，迷之数字M(a)为$\ln a$

\
\
第二种方法叫对数微分法（logarithmic differentiation）。它有什么用呢？有时求导函数时会遇到问题，但求导其对数会相对容易。我们需要找到函数求导与其对数函数求导之间的关系：\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}\ln u = (\frac{d \ln u}{du})(\frac{du}{dx})=\frac{1}{u}\frac{du}{dx}
\end{aligned}}
$\
也就是说：\
$
\boxed{
\begin{aligned}
&(\ln u)'=u'/u
\end{aligned}}
$

开始求$\frac{d}{dx}a^x$：\
$
\boxed{
\begin{aligned}
&\text{let}\ u= a^x
\\&\ln u = x\ln a
\\& (\ln u)' = \ln a
\\&\frac{u'}{u} = (\ln u)' = \ln a
\\&\Rightarrow u' = u\ln a
\\&\frac{d}{dx}a^x = (\ln a) a^x
\end{aligned}}
$

下面，通过两个例子来解释对数微分法：\
例1： 求$\frac{d}{dx}x^x$\
$
\boxed{
\begin{aligned}
&v = x^x
\\& \ln v = x\ln x \qquad\#\scriptsize\text{两边取ln}
\\& (\ln v)' = \ln x + x\cdot\frac{1}{x}
\\& \Rightarrow  v'/v = 1+ \ln x
\\& v' = v(1+\ln x)
\\&\therefore \frac{d}{dx}x^x = x^x(1+\ln x)
\end{aligned}}
$

>记住：换底法和对数微分法始终适用于变动的指数

例2：$\lim\limits_{n\to\infty}(1+\frac{1}{n})^n$\
这个虽然是求极限，却能通过对数法求出结果，因为指数是变动的。指数n是变动的对数法无疑是个不错的选择。\
要求极限，首先用ln，求出对数的极限，这等价于对数的极限。\
$
\boxed{
\begin{aligned}
&\ln((1+\frac{1}{n})^n) = n\ln(1+\frac{1}{n})
\\&assume\ \Delta x =\frac{1}{n}; n\to\infty,so\ \Delta x\to 0
\\&n\ln(1+\frac{1}{n}) = \frac{1}{\Delta x}\ln(1+\Delta x)
\\&\qquad\qquad\quad=\frac{1}{\Delta x}(\ln(1+\Delta x)-\ln 1) \qquad\qquad\#\scriptsize\text{-ln 1 实际就是减去0}
\end{aligned}}
$\
上面的形式就是求导对数函数需要用到的式子。当$\Delta x\to0$:\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}\ln x|_{x=1}=\frac{1}{x}|_{x=1}=1
\end{aligned}}
$\
代回到原来的式子，就可以得到原来要求极限的结果：\
$
\boxed{
\begin{aligned}
&\lim\limits_{n\to\infty}(1+\frac{1}{n})^n=e^{(\lim\limits_{n\to\infty}\ln((1+\frac{1}{n})^n))}=e^1 = e
\end{aligned}}
$
---
-----------补充：一些特定形式的指数----------------------

例1：
$
\boxed{
\begin{aligned}
&a_k= (1+\frac{1}{k})^k
\end{aligned}}
$\
我们知道：\
$
\boxed{
\begin{aligned}
&\lim\limits_{k\to\infty}a_k=e
\end{aligned}}
$

证明过程如下：
 先来看一下前面是如何处理的：与其直接求指数函数的极限，不如先两边取ln，这是处理指数函数的一个典型方法。\
$
\boxed{
\begin{aligned}
& when\ k\to\infty, \ln a_k = 1
\end{aligned}}
$

这里，我们研究下一个步骤：\
$
\boxed{
\begin{aligned}
&e^{\ln a_k}\to e^1=e
\\& e^{\ln a} = a \qquad\qquad\#\scriptsize\text{因为ln函数是指数函数的反函数}
\end{aligned}}
$

例2：$
\boxed{
\begin{aligned}
&\frac{d}{dx}x^r = rx^{r-1} \ \ ;\quad all \ r
\end{aligned}}
$\
以前，我们研究的r都是有理数，现在我们讨论实数的情况

第一种方法：e底法（base e）\
$
\boxed{
\begin{aligned}
&x^r = (e^{\ln x})^r = e^{r\ln x}
\end{aligned}}
$

$
\boxed{
\begin{aligned}
\frac{d}{dx}x^r &= (e^{r\ln x})'
\\&=e^{r\ln x}(r\ln x)'\qquad\qquad\#\scriptsize\text{链式法则}
\\&=x^r\cdot r(\ln x)' \qquad\qquad\#\scriptsize\text{r是常数}
\\&=x^r\cdot r\cdot \frac{1}{x}
\\&=rx^{r-1}
\end{aligned}}
$

第二种方法：对数微分法（logarithmic differentiation）\
$
\boxed{
\begin{aligned}
&u=x^r,\ln u = r\ln x
\\&\frac{u'}{u}=(\ln u)'= \frac{r}{x}
\\&\footnotesize\text{化简后:}\normalsize\ \ u'=u\cdot \frac{r}{x}=x^r\cdot\frac{r}{x}=rx^{r-1}
\end{aligned}}
$

例3： 以经济学为例，说明自然对数是自然的。 省略（有点不太懂）。只知道所有与比率有关就涉及到对数。\
$
\boxed{
\begin{aligned}
&\frac{\Delta p}{p} = \frac{27.9}{6432}\approx.43\%
\\&\frac{p'}{p} = (\ln p)'
\end{aligned}}
$

---
## 复习
### 1.通用的求导法则（general formulas for derivatives）
1. 函数和的求导：$(u+v)'=u'+v'$
2. 常数乘以函数的求导:$(Cu)'=Cu'$
3. 乘法法则:$(uv)'=u'v+uv'$
4. 除法法则:$(u/v)'=(u'v-uv')'v^2$
5. 求导复合函数的链式法则:$\frac{d}{dx}f(u)=f'(u)u'(x) \quad[u=u(x)]$
6. 隐函数微分法：处理反函数时最典型的方法；对数微分法也属于这个类型

###  2.特定函数的求导：
$
\boxed{
\begin{aligned}
&x^r
\\&\sin x,\cos x,\tan x,\sec x
\\&\tan^{-1}x,\sin^{-1}x\quad\quad\#\scriptsize\text{反函数}
\\&e^x,\ln x
\end{aligned}}
$

### 3. 例子
#### 3.1 通用求导法则的例子
 $y= 10x+b$

$
\boxed{
\begin{aligned}
&y'=\frac{d}{dx}(10x+b) =\frac{d}{dx}10x+\frac{d}{dx}b = 10+0 = 10 
\end{aligned}}
$

\
$
\boxed{
\begin{aligned}
&\frac{d}{dx}(x^{10}+8x)^6 = 6(x^{10}+8x)^5(10x^9+8)
\end{aligned}}
$


#### 3.2三角函数


$
\boxed{
\begin{aligned}
\frac{d}{dx}\sec x & = \frac{d}{dx}(\cos x)^{-1}
\\&=(\cos x)^{-2}(-\sin x)
\\&=\frac{\sin x}{cos^2x}
\\&=\frac{1}{\cos x}\cdot\frac{\sin x}{\cos x}=\sec x\cdot\tan x
\end{aligned}}
$

$
\boxed{
\begin{aligned}
\frac{d}{dx}\ln (\sec x) &= \frac{1}{\sec x}\cdot(\sec x)'
\\&=\frac{\sec x\tan x}{\sec x}
\\&=\tan x
\end{aligned}}
$

$
\boxed{
\begin{aligned}
&y=\tan^{-1}x
\\&\tan y = x
\\& \frac{d}{dx}\tan y = \frac{d}{dx}x
\\& \frac{d}{dy}\tan y\frac{d}{dx}y = 1
\\& (\sec^2 y)y' = 1
\\& y' = \frac{1}{\sec^2y}
\\&y' = cos^2y
\\& y' = (\frac{1}{\sqrt{1+x^2}})^2 = \frac{1}{1+x^2}
\end{aligned}}
$



$
\boxed{
\begin{aligned}
\frac{d}{dx}e^{x\tan^{-1}x}&=e^{x\tan^{-1}x}\frac{d}{dx}(x\tan^{-1}x)
\\&=e^{x\tan^{-1}x}(\tan^{-1}x+\frac{x}{1+x^2})
\end{aligned}}
$

